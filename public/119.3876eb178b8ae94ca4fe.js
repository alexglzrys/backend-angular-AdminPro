"use strict";(self.webpackChunkangular_admin_pro=self.webpackChunkangular_admin_pro||[]).push([[119],{7119:(y,u,a)=>{a.r(u),a.d(u,{AuthModule:()=>x});var c=a(8583),m=a(1742),Z=a(8239),r=a(665),f=a(8259),d=a.n(f),o=a(639),p=a(1209);function v(t,n){1&t&&(o.TgZ(0,"p"),o._uU(1,"El nombre es obligatorio"),o.qZA())}function b(t,n){1&t&&(o.TgZ(0,"p"),o._uU(1,"El email es obligatorio y tiene que ser v\xe1lido"),o.qZA())}function A(t,n){1&t&&(o.TgZ(0,"p"),o._uU(1,"Debe aceptar los t\xe9rminos y condiciones"),o.qZA())}function T(t,n){1&t&&(o.TgZ(0,"p"),o._uU(1,"La contrase\xf1as no son iguales"),o.qZA())}const q=[{path:"",children:[{path:"login",component:(()=>{class t{constructor(e,i,s,g){this.router=e,this.fb=i,this.usuariosServices=s,this.ngZone=g,this.formLogin=this.fb.group({email:[localStorage.getItem("email")||"",[r.kI.required,r.kI.email]],password:["",r.kI.required],rememberme:[!1]})}ngOnInit(){this.renderButton()}login(){console.log(this.formLogin.value),this.formLogin.valid&&this.usuariosServices.login(this.formLogin.value).subscribe(e=>{var i,s;console.log(e),(null===(i=this.formLogin.get("rememberme"))||void 0===i?void 0:i.value)?localStorage.setItem("email",null===(s=this.formLogin.get("email"))||void 0===s?void 0:s.value):localStorage.removeItem("email"),this.router.navigateByUrl("/")},e=>{d().fire("Upss!",e.error.msg,"error"),console.log(e)})}renderButton(){gapi.signin2.render("my-signin2",{scope:"profile email",width:240,height:50,longtitle:!0,theme:"dark"}),this.startApp()}startApp(){var e=this;return(0,Z.Z)(function*(){yield e.usuariosServices.startApp(),e.auth2=e.usuariosServices.auth2,e.attachSignin(document.getElementById("my-signin2"))})()}attachSignin(e){this.auth2.attachClickHandler(e,{},i=>{const s=i.getAuthResponse().id_token;this.usuariosServices.loginGoogle(s).subscribe(g=>{this.ngZone.run(()=>{localStorage.setItem("token",g.token),this.router.navigateByUrl("/")})},g=>{console.log(g)})},i=>{alert(JSON.stringify(i,void 0,2))})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(m.F0),o.Y36(r.qu),o.Y36(p.J),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:51,vars:1,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../assets/images/logo-icon.png","alt","Home"],["src","../assets/images/logo-text.png","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],[1,"form-group"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","pull-left","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","rememberme",1,"filled-in","chk-col-light-blue"],["for","checkbox-signup"],["href","javascript:void(0)","id","to-recover",1,"text-dark","pull-right"],[1,"fa","fa-lock","m-r-5"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","btn-rounded"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","m-t-10","text-center"],[1,"d-flex","justify-content-center","mt-3","mb-5"],["id","my-signin2"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/register",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(e,i){1&e&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"form",3),o.NdJ("ngSubmit",function(){return i.login()}),o.TgZ(4,"a",4),o._UZ(5,"img",5),o._UZ(6,"br"),o._UZ(7,"img",6),o.qZA(),o.TgZ(8,"div",7),o.TgZ(9,"div",8),o._UZ(10,"input",9),o.qZA(),o.qZA(),o.TgZ(11,"div",10),o.TgZ(12,"div",8),o._UZ(13,"input",11),o.qZA(),o.qZA(),o.TgZ(14,"div",12),o.TgZ(15,"div",13),o.TgZ(16,"div",14),o._UZ(17,"input",15),o.TgZ(18,"label",16),o._uU(19," Remember me "),o.qZA(),o.qZA(),o.TgZ(20,"a",17),o._UZ(21,"i",18),o._uU(22," Forgot pwd?"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(23,"div",19),o.TgZ(24,"div",8),o.TgZ(25,"button",20),o._uU(26,"Log In"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",21),o.TgZ(28,"div",22),o.TgZ(29,"div",23),o._UZ(30,"div",24),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"div",25),o.TgZ(32,"div",26),o._uU(33," Don't have an account? "),o.TgZ(34,"a",27),o.TgZ(35,"b"),o._uU(36,"Sign Up"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"form",28),o.TgZ(38,"div",10),o.TgZ(39,"div",8),o.TgZ(40,"h3"),o._uU(41,"Recover Password"),o.qZA(),o.TgZ(42,"p",29),o._uU(43,"Enter your Email and instructions will be sent to you! "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(44,"div",10),o.TgZ(45,"div",8),o._UZ(46,"input",30),o.qZA(),o.qZA(),o.TgZ(47,"div",19),o.TgZ(48,"div",8),o.TgZ(49,"button",31),o._uU(50,"Reset"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("formGroup",i.formLogin))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Wl,m.yS,r.F],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0px;right:0px}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0px;position:absolute;height:100%}"]}),t})()},{path:"register",component:(()=>{class t{constructor(e,i){this.fb=e,this.usuariosService=i,this.registerForm=this.fb.group({nombre:["",[r.kI.required,r.kI.minLength(3)]],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(8)]],password_confirm:["",[r.kI.required,r.kI.minLength(8)]],terminos:[!1,r.kI.required]},{validators:this.passwordIguales("password","password_confirm")}),this.formSubmitted=!1}ngOnInit(){}registrarUsuario(){this.formSubmitted=!0,console.log(this.registerForm.value),!this.registerForm.invalid&&this.usuariosService.registrarUsuario(this.registerForm.value).subscribe(e=>{console.log(e)},e=>{d().fire("Upss",e.error.msg,"error")})}campoNoValido(e){var i;return!(!(null===(i=this.registerForm.get(e))||void 0===i?void 0:i.invalid)||!this.formSubmitted)}passwordsNoIguales(){var e,i;return(null===(e=this.registerForm.get("password"))||void 0===e?void 0:e.value)!==(null===(i=this.registerForm.get("password_confirm"))||void 0===i?void 0:i.value)&&this.formSubmitted}noAceptaTerminos(){var e;return!(null===(e=this.registerForm.get("terminos"))||void 0===e?void 0:e.value)&&this.formSubmitted}passwordIguales(e,i){return s=>{const g=s.get("password"),l=s.get("password_confirm");(null==g?void 0:g.value)===(null==l?void 0:l.value)?null==l||l.setErrors(null):null==l||l.setErrors({noIguales:!0})}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.qu),o.Y36(p.J))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-register"]],decls:49,vars:5,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["autocomplete","off","id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../assets/images/logo-icon.png","alt","Home"],["src","../assets/images/logo-text.png","alt","Home"],[1,"box-title","m-t-40","m-b-0"],[1,"form-group","m-t-20"],[1,"col-xs-12"],["type","text","formControlName","nombre","placeholder","Name",1,"form-control"],[1,"form-group"],["type","text","formControlName","email","placeholder","Email",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","password_confirm","placeholder","Confirm Password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0"],["id","checkbox-signup","formControlName","terminos","type","checkbox"],["for","checkbox-signup"],["href","#"],[1,"row"],[1,"col","text-danger"],[4,"ngIf"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/login",1,"text-info","m-l-5"]],template:function(e,i){1&e&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"form",3),o.NdJ("ngSubmit",function(){return i.registrarUsuario()}),o.TgZ(4,"a",4),o._UZ(5,"img",5),o._UZ(6,"br"),o._UZ(7,"img",6),o.qZA(),o.TgZ(8,"h3",7),o._uU(9,"Register Now"),o.qZA(),o.TgZ(10,"small"),o._uU(11,"Create your account and enjoy"),o.qZA(),o.TgZ(12,"div",8),o.TgZ(13,"div",9),o._UZ(14,"input",10),o.qZA(),o.qZA(),o.TgZ(15,"div",11),o.TgZ(16,"div",9),o._UZ(17,"input",12),o.qZA(),o.qZA(),o.TgZ(18,"div",11),o.TgZ(19,"div",9),o._UZ(20,"input",13),o.qZA(),o.qZA(),o.TgZ(21,"div",11),o.TgZ(22,"div",9),o._UZ(23,"input",14),o.qZA(),o.qZA(),o.TgZ(24,"div",15),o.TgZ(25,"div",16),o.TgZ(26,"div",17),o._UZ(27,"input",18),o.TgZ(28,"label",19),o._uU(29," I agree to all "),o.TgZ(30,"a",20),o._uU(31,"Terms"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(32,"div",21),o.TgZ(33,"div",22),o.YNc(34,v,2,0,"p",23),o.YNc(35,b,2,0,"p",23),o.YNc(36,A,2,0,"p",23),o.YNc(37,T,2,0,"p",23),o.qZA(),o.qZA(),o.TgZ(38,"div",24),o.TgZ(39,"div",9),o.TgZ(40,"button",25),o._uU(41,"Sign Up"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(42,"div",26),o.TgZ(43,"div",27),o.TgZ(44,"p"),o._uU(45,"Already have an account? "),o.TgZ(46,"a",28),o.TgZ(47,"b"),o._uU(48,"Sign In"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("formGroup",i.registerForm),o.xp6(31),o.Q6J("ngIf",i.campoNoValido("nombre")),o.xp6(1),o.Q6J("ngIf",i.campoNoValido("email")),o.xp6(1),o.Q6J("ngIf",i.noAceptaTerminos()),o.xp6(1),o.Q6J("ngIf",i.passwordsNoIguales()))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Wl,c.O5,m.yS],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0px;right:0px}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0px;position:absolute;height:100%}"]}),t})()},{path:"",redirectTo:"login",pathMatch:"full"}]}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[m.Bz.forChild(q)],m.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[c.ez,r.u5,_,r.UX]]}),t})()}}]);